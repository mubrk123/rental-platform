import{j as e}from"./index-BUXaKORS.js";import{u as h}from"./useLazyImage-Ec3S82K4.js";import{a as x}from"./index-ngrFHoWO.js";import{E as o}from"./eye-DPVassz8.js";import{c as g}from"./createLucideIcon-Q5V_cY2S.js";import{T as p}from"./trash-2-CDPY1HTU.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],f=g("pencil",u),k=({bike:a,onView:l,onEdit:r,onDelete:n,isAdmin:i=!1})=>{const{visible:d,ref:t}=h(),c=a.images?.[0]||"https://placehold.co/400x300?text=No+Image",m=async()=>{if(window.confirm("ðŸ›‘ Are you sure you want to delete this bike?"))try{const s=localStorage.getItem("adminToken");if(!s){alert("âŒ Unauthorized: Please log in again as admin.");return}await x.delete(`https://rental-platform-0o9d.onrender.com/api/sale-bikes/${a._id}`,{headers:{Authorization:`Bearer ${s}`}}),alert("âœ… Bike deleted successfully!"),n?.(a._id)}catch(s){console.error("Delete failed:",s),s.response?.status===401?(alert("âš ï¸ Session expired. Please log in again as admin."),localStorage.removeItem("adminToken"),window.location.href="/admin-login"):alert("âŒ Failed to delete bike. Please try again.")}};return e.jsxs("div",{className:"relative bg-white rounded-2xl p-6 shadow-md hover:-translate-y-2 hover:shadow-lg transition-transform duration-300",children:[d?e.jsx("img",{ref:t,src:c,alt:a.modelName,loading:"lazy",className:"w-full h-48 object-contain bg-sky-50 p-4 rounded-lg mb-4 cursor-pointer",onClick:()=>l(a)}):e.jsx("div",{ref:t,className:"w-full h-48 bg-sky-50 p-4 rounded-lg mb-4 animate-pulse"}),e.jsxs("h3",{className:"text-lg font-semibold text-sky-800",children:[a.brand," ",a.modelName]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["â‚¹",a.price]}),i?e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsxs("button",{onClick:()=>l(a),className:"bg-sky-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-sky-700 hover:scale-105 transition-all",children:[e.jsx(o,{className:"inline w-4 h-4 mr-1"})," View"]}),e.jsxs("button",{onClick:()=>r(a),className:"bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 hover:scale-105 transition-all",children:[e.jsx(f,{className:"inline w-4 h-4 mr-1"})," Edit"]}),e.jsxs("button",{onClick:m,className:"bg-red-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-700 hover:scale-105 transition-all",children:[e.jsx(p,{className:"inline w-4 h-4 mr-1"})," Delete"]})]}):e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:e.jsxs("button",{onClick:()=>l(a),className:"bg-sky-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-sky-700 hover:scale-105 transition-all",children:[e.jsx(o,{className:"inline w-4 h-4 mr-1"})," View Details"]})})]},a._id)};export{k as S};
